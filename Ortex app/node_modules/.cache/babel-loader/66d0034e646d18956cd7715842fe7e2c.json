{"ast":null,"code":"'use strict';\n\nconst auth = require('./auth.js');\n\nconst func = require('./functions.js');\n\nconst fetch = require('node-fetch'); //setting global variable to be used outside this module\n\n\nglobal.series_code = null; //This function builds the path to get the API request:\n\n/***********************************************************************************  \r\n   parameters:\r\n    series_code\r\n\r\n   example:    \r\n    getWorldBankHistorical(series_code = 'usa.fr.inr.rinr' ); \r\n************************************************************************************/\n\nvar getWorldBankHistorical = function () {\n  var url = '';\n  var Data = '';\n\n  if (series_code) {\n    url = '/worldBank/historical' + '?s=' + series_code;\n  }\n\n  Data = url_base + url + '&c=' + apikey.replace(' ', '%20');\n  return fetch(Data).then(func.handleErrors).then(function (response) {\n    return response.json(); // process it inside the `then` when calling the function       \n  }).catch(function (err) {\n    return err.message;\n  });\n};\n\nmodule.exports.getWorldBankHistorical = getWorldBankHistorical;","map":{"version":3,"sources":["C:/Users/Camo/Desktop/ORTEX/ortex-app/node_modules/tradingeconomics/wbHistorical.js"],"names":["auth","require","func","fetch","global","series_code","getWorldBankHistorical","url","Data","url_base","apikey","replace","then","handleErrors","response","json","catch","err","message","module","exports"],"mappings":"AAAA;;AAEA,MAAMA,IAAI,GAAGC,OAAO,CAAC,WAAD,CAApB;;AACA,MAAMC,IAAI,GAAGD,OAAO,CAAC,gBAAD,CAApB;;AACA,MAAME,KAAK,GAAGF,OAAO,CAAC,YAAD,CAArB,C,CAEA;;;AACAG,MAAM,CAACC,WAAP,GAAqB,IAArB,C,CAEA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAIC,sBAAsB,GAAG,YAAU;AAEnC,MAAIC,GAAG,GAAG,EAAV;AACA,MAAIC,IAAI,GAAG,EAAX;;AAEA,MAAIH,WAAJ,EAAgB;AACZE,IAAAA,GAAG,GAAG,0BAA0B,KAA1B,GAAkCF,WAAxC;AACH;;AAEDG,EAAAA,IAAI,GAAGC,QAAQ,GAAGF,GAAX,GAAiB,KAAjB,GAAyBG,MAAM,CAACC,OAAP,CAAgB,GAAhB,EAAoB,KAApB,CAAhC;AAEA,SAAOR,KAAK,CAACK,IAAD,CAAL,CACNI,IADM,CACDV,IAAI,CAACW,YADJ,EAEND,IAFM,CAED,UAASE,QAAT,EAAmB;AACrB,WAAOA,QAAQ,CAACC,IAAT,EAAP,CADqB,CACG;AAC3B,GAJM,EAIJC,KAJI,CAIE,UAAUC,GAAV,EAAe;AACpB,WAAOA,GAAG,CAACC,OAAX;AACH,GANM,CAAP;AAUH,CArBD;;AAuBAC,MAAM,CAACC,OAAP,CAAed,sBAAf,GAAwCA,sBAAxC","sourcesContent":["'use strict'\r\n\r\nconst auth = require('./auth.js');\r\nconst func = require('./functions.js');\r\nconst fetch = require('node-fetch');\r\n\r\n//setting global variable to be used outside this module\r\nglobal.series_code = null;\r\n\r\n//This function builds the path to get the API request:\r\n/***********************************************************************************  \r\n   parameters:\r\n    series_code\r\n\r\n   example:    \r\n    getWorldBankHistorical(series_code = 'usa.fr.inr.rinr' ); \r\n************************************************************************************/\r\n\r\nvar getWorldBankHistorical = function(){\r\n   \r\n    var url = '';\r\n    var Data = '';\r\n\r\n    if (series_code){    \r\n        url = '/worldBank/historical' + '?s=' + series_code;    \r\n    }\r\n    \r\n    Data = url_base + url + '&c=' + apikey.replace (' ','%20');\r\n    \r\n    return fetch(Data)\r\n    .then(func.handleErrors)   \r\n    .then(function(response) {    \r\n        return response.json(); // process it inside the `then` when calling the function       \r\n    }).catch(function (err) {\r\n        return err.message;\r\n    });\r\n   \r\n    \r\n\r\n}\r\n\r\nmodule.exports.getWorldBankHistorical = getWorldBankHistorical;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"script"}