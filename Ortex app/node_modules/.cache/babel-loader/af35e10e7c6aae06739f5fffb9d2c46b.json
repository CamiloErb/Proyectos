{"ast":null,"code":"'use strict';\n\nconst auth = require('./auth.js');\n\nconst func = require('./functions.js');\n\nconst fetch = require('node-fetch'); //setting global variables to be used outside this module\n\n\nglobal.category = null;\nglobal.country = null;\nglobal.country1 = null;\nglobal.symbol = null; //This function builds the path to get the API request:\n\n/***********************************************************************************  \r\n   parameters:\r\n    String or list: country, country1, symbol\r\n    String: category(can be - 'categories' or 'countries' for a list of data)\r\n\r\n   example:\r\n    getComtrade(category = 'categories');\r\n    getComtrade(country ='united states');\r\n    getComtrade(country = 'china' );       \r\n    getComtrade(symbol ='PRTESP24031' );              \r\n    getComtrade(country ='china', country1 = 'united states');              \r\n\r\n***********************************************************************************/\n\nfunction getComtrade() {\n  var Data = '';\n  var url = '';\n\n  if (category === 'categories') {\n    url = '/comtrade/categories';\n  }\n\n  if (category === 'updates') {\n    url = '/comtrade/updates';\n  }\n\n  if (category === 'countries') {\n    url = '/comtrade/countries';\n  }\n\n  if (country != null) {\n    url = '/comtrade/country/' + country;\n  }\n\n  if (country != null && country1 != null) {\n    url = '/comtrade/country/' + country + '/' + country1;\n  }\n\n  if (symbol != null) {\n    url = '/comtrade/historical/' + symbol;\n  }\n\n  Data = url_base + url + '?c=' + apikey.replace(' ', '%20');\n  return fetch(Data).then(func.handleErrors).then(function (response) {\n    return response.json(); // process it inside the `then` when calling the function       \n  }).catch(function (err) {\n    return err.message;\n  });\n}\n\nmodule.exports.getComtrade = getComtrade;","map":{"version":3,"sources":["C:/Users/Camo/Desktop/ORTEX/ortex-app/node_modules/tradingeconomics/comtrade.js"],"names":["auth","require","func","fetch","global","category","country","country1","symbol","getComtrade","Data","url","url_base","apikey","replace","then","handleErrors","response","json","catch","err","message","module","exports"],"mappings":"AAAA;;AAEA,MAAMA,IAAI,GAAGC,OAAO,CAAC,WAAD,CAApB;;AACA,MAAMC,IAAI,GAAGD,OAAO,CAAC,gBAAD,CAApB;;AACA,MAAME,KAAK,GAAGF,OAAO,CAAC,YAAD,CAArB,C,CAEA;;;AACAG,MAAM,CAACC,QAAP,GAAkB,IAAlB;AACAD,MAAM,CAACE,OAAP,GAAiB,IAAjB;AACAF,MAAM,CAACG,QAAP,GAAkB,IAAlB;AACAH,MAAM,CAACI,MAAP,GAAgB,IAAhB,C,CAEA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAASC,WAAT,GAAsB;AAElB,MAAIC,IAAI,GAAG,EAAX;AACA,MAAIC,GAAG,GAAG,EAAV;;AAEA,MAAIN,QAAQ,KAAK,YAAjB,EAA8B;AAC1BM,IAAAA,GAAG,GAAI,sBAAP;AACH;;AACD,MAAIN,QAAQ,KAAK,SAAjB,EAA2B;AACvBM,IAAAA,GAAG,GAAG,mBAAN;AACH;;AACD,MAAIN,QAAQ,KAAK,WAAjB,EAA6B;AACzBM,IAAAA,GAAG,GAAG,qBAAN;AACH;;AACD,MAAIL,OAAO,IAAI,IAAf,EAAoB;AAChBK,IAAAA,GAAG,GAAG,uBAAuBL,OAA7B;AACH;;AACD,MAAIA,OAAO,IAAI,IAAX,IAAmBC,QAAQ,IAAI,IAAnC,EAAwC;AACpCI,IAAAA,GAAG,GAAG,uBAAuBL,OAAvB,GAAiC,GAAjC,GAAuCC,QAA7C;AACH;;AACD,MAAIC,MAAM,IAAI,IAAd,EAAmB;AACfG,IAAAA,GAAG,GAAG,0BAA0BH,MAAhC;AACH;;AAEDE,EAAAA,IAAI,GAAGE,QAAQ,GAAGD,GAAX,GAAiB,KAAjB,GAAyBE,MAAM,CAACC,OAAP,CAAgB,GAAhB,EAAoB,KAApB,CAAhC;AAEA,SAAOX,KAAK,CAACO,IAAD,CAAL,CACNK,IADM,CACDb,IAAI,CAACc,YADJ,EAEND,IAFM,CAED,UAASE,QAAT,EAAmB;AACrB,WAAOA,QAAQ,CAACC,IAAT,EAAP,CADqB,CACG;AAC3B,GAJM,EAIJC,KAJI,CAIE,UAAUC,GAAV,EAAe;AACpB,WAAOA,GAAG,CAACC,OAAX;AACH,GANM,CAAP;AAQH;;AAEDC,MAAM,CAACC,OAAP,CAAed,WAAf,GAA6BA,WAA7B","sourcesContent":["'use strict'\r\n\r\nconst auth = require('./auth.js');\r\nconst func = require('./functions.js');\r\nconst fetch = require('node-fetch');\r\n\r\n//setting global variables to be used outside this module\r\nglobal.category = null;\r\nglobal.country = null;\r\nglobal.country1 = null;\r\nglobal.symbol = null;\r\n\r\n//This function builds the path to get the API request:\r\n/***********************************************************************************  \r\n   parameters:\r\n    String or list: country, country1, symbol\r\n    String: category(can be - 'categories' or 'countries' for a list of data)\r\n\r\n   example:\r\n    getComtrade(category = 'categories');\r\n    getComtrade(country ='united states');\r\n    getComtrade(country = 'china' );       \r\n    getComtrade(symbol ='PRTESP24031' );              \r\n    getComtrade(country ='china', country1 = 'united states');              \r\n\r\n***********************************************************************************/\r\n\r\nfunction getComtrade(){\r\n\r\n    var Data = '';\r\n    var url = '';\r\n\r\n    if (category === 'categories'){    \r\n        url =  '/comtrade/categories'; \r\n    }\r\n    if (category === 'updates'){     \r\n        url = '/comtrade/updates';   \r\n    }\r\n    if (category === 'countries'){      \r\n        url = '/comtrade/countries';    \r\n    }\r\n    if (country != null){     \r\n        url = '/comtrade/country/' + country;    \r\n    }\r\n    if (country != null && country1 != null){     \r\n        url = '/comtrade/country/' + country + '/' + country1;    \r\n    }\r\n    if (symbol != null){     \r\n        url = '/comtrade/historical/' + symbol;    \r\n    }\r\n    \r\n    Data = url_base + url + '?c=' + apikey.replace (' ','%20');\r\n  \r\n    return fetch(Data)\r\n    .then(func.handleErrors)   \r\n    .then(function(response) {    \r\n        return response.json(); // process it inside the `then` when calling the function       \r\n    }).catch(function (err) {\r\n        return err.message;\r\n    });\r\n   \r\n}\r\n\r\nmodule.exports.getComtrade = getComtrade;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"script"}