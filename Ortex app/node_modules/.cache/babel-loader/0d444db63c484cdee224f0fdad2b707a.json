{"ast":null,"code":"'use strict';\n\nconst auth = require('./auth.js');\n\nconst func = require('./functions.js');\n\nconst fetch = require('node-fetch'); //setting global variables to be used outside this module\n\n\nglobal.country = null;\nglobal.indicator = null;\nglobal.limit = null;\nglobal.start = null;\nglobal.id = null;\nglobal.start_date = null;\nglobal.end_date = null; //This function builds the path to get the API request:\n\n/**************************************************************************\r\n   WITHOUT PARAMETERS A LIST OF ARTICLES WILL BE PROVIDED\r\n   parameters:\r\n    String or list: country, indicator, id \r\n    String: limit, start (list size and start index)\r\n \r\n   example:\r\n    getArticles( ); \r\n    getArticles( id = '20580'); \r\n    getArticles(country = 'portugal');\r\n    getArticles(country = 'portugal', start_date = '2019-02-02', end_date = '2019-03-03');\r\n    getArticles(indicator = ['imports', 'Interest Rate']);       \r\n    getArticles(country = 'united states', indicator = 'inflation rate');         \r\n    getArticles(limit = '4', start = '2');               \r\n\r\n***************************************************************************/\n\nfunction getArticles() {\n  var Data = '';\n  var url = '';\n\n  if (country != null) {\n    url = '/articles/country/' + country;\n  }\n\n  if (country != null && start_date != null && end_date != null) {\n    url = '/articles/country/' + country + '/from/' + start_date + '/' + end_date;\n  }\n\n  if (indicator != null) {\n    url = '/articles/indicator/' + indicator;\n  }\n\n  if (country != null && indicator != null) {\n    url = '/articles/country/' + country + '/' + indicator;\n  }\n\n  if (limit != null && start != null) {\n    url = '/articles' + '?lim=' + limit + '&start=' + start;\n  }\n\n  if (country === null && indicator === null && limit === null && start === null) {\n    url = '/articles';\n  }\n\n  if (id != null) {\n    url = '/articles/id/' + id;\n  }\n\n  if (url.includes('?')) {\n    Data = url_base + url + '&c=' + apikey.replace(' ', '%20');\n  } else {\n    Data = url_base + url + '?c=' + apikey.replace(' ', '%20');\n  }\n\n  return fetch(Data).then(func.handleErrors).then(function (response) {\n    return response.json(); // process it inside the `then` when calling the function       \n  }).catch(function (err) {\n    return err.message;\n  });\n}\n\nmodule.exports.getArticles = getArticles;","map":{"version":3,"sources":["C:/Users/Camo/Desktop/ORTEX/ortex-app/node_modules/tradingeconomics/articles.js"],"names":["auth","require","func","fetch","global","country","indicator","limit","start","id","start_date","end_date","getArticles","Data","url","includes","url_base","apikey","replace","then","handleErrors","response","json","catch","err","message","module","exports"],"mappings":"AAAA;;AAEA,MAAMA,IAAI,GAAGC,OAAO,CAAC,WAAD,CAApB;;AACA,MAAMC,IAAI,GAAGD,OAAO,CAAC,gBAAD,CAApB;;AACA,MAAME,KAAK,GAAGF,OAAO,CAAC,YAAD,CAArB,C,CAEA;;;AACAG,MAAM,CAACC,OAAP,GAAiB,IAAjB;AACAD,MAAM,CAACE,SAAP,GAAmB,IAAnB;AACAF,MAAM,CAACG,KAAP,GAAe,IAAf;AACAH,MAAM,CAACI,KAAP,GAAe,IAAf;AACAJ,MAAM,CAACK,EAAP,GAAY,IAAZ;AACAL,MAAM,CAACM,UAAP,GAAoB,IAApB;AACAN,MAAM,CAACO,QAAP,GAAkB,IAAlB,C,CAEA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAASC,WAAT,GAAsB;AAElB,MAAIC,IAAI,GAAG,EAAX;AACA,MAAIC,GAAG,GAAG,EAAV;;AAEA,MAAIT,OAAO,IAAI,IAAf,EAAoB;AAChBS,IAAAA,GAAG,GAAG,uBAAuBT,OAA7B;AACH;;AACD,MAAIA,OAAO,IAAI,IAAX,IAAmBK,UAAU,IAAI,IAAjC,IAAyCC,QAAQ,IAAI,IAAzD,EAA8D;AAC1DG,IAAAA,GAAG,GAAG,uBAAuBT,OAAvB,GAAiC,QAAjC,GAA4CK,UAA5C,GAAyD,GAAzD,GAA+DC,QAArE;AACH;;AACD,MAAIL,SAAS,IAAI,IAAjB,EAAsB;AAClBQ,IAAAA,GAAG,GAAG,yBAAyBR,SAA/B;AACH;;AACD,MAAID,OAAO,IAAI,IAAX,IAAmBC,SAAS,IAAI,IAApC,EAAyC;AACrCQ,IAAAA,GAAG,GAAG,uBAAuBT,OAAvB,GAAiC,GAAjC,GAAuCC,SAA7C;AACH;;AACD,MAAIC,KAAK,IAAI,IAAT,IAAiBC,KAAK,IAAI,IAA9B,EAAmC;AAC/BM,IAAAA,GAAG,GAAI,cAAc,OAAd,GAAwBP,KAAxB,GAAgC,SAAhC,GAA4CC,KAAnD;AACH;;AACD,MAAGH,OAAO,KAAK,IAAZ,IAAoBC,SAAS,KAAK,IAAlC,IAA0CC,KAAK,KAAK,IAApD,IAA4DC,KAAK,KAAK,IAAzE,EAA8E;AAC1EM,IAAAA,GAAG,GAAG,WAAN;AACH;;AACD,MAAIL,EAAE,IAAI,IAAV,EAAe;AACXK,IAAAA,GAAG,GAAI,kBAAkBL,EAAzB;AACH;;AAGD,MAAGK,GAAG,CAACC,QAAJ,CAAa,GAAb,CAAH,EAAqB;AACjBF,IAAAA,IAAI,GAAGG,QAAQ,GAAGF,GAAX,GAAiB,KAAjB,GAAwBG,MAAM,CAACC,OAAP,CAAgB,GAAhB,EAAoB,KAApB,CAA/B;AACH,GAFD,MAEK;AACDL,IAAAA,IAAI,GAAGG,QAAQ,GAAGF,GAAX,GAAiB,KAAjB,GAAwBG,MAAM,CAACC,OAAP,CAAgB,GAAhB,EAAoB,KAApB,CAA/B;AACH;;AAED,SAAOf,KAAK,CAACU,IAAD,CAAL,CACNM,IADM,CACDjB,IAAI,CAACkB,YADJ,EAEND,IAFM,CAED,UAASE,QAAT,EAAmB;AACrB,WAAOA,QAAQ,CAACC,IAAT,EAAP,CADqB,CACG;AAC3B,GAJM,EAIJC,KAJI,CAIE,UAAUC,GAAV,EAAe;AACpB,WAAOA,GAAG,CAACC,OAAX;AACH,GANM,CAAP;AASH;;AAEDC,MAAM,CAACC,OAAP,CAAef,WAAf,GAA6BA,WAA7B","sourcesContent":["'use strict'\r\n\r\nconst auth = require('./auth.js');\r\nconst func = require('./functions.js');\r\nconst fetch = require('node-fetch');\r\n\r\n//setting global variables to be used outside this module\r\nglobal.country = null;\r\nglobal.indicator = null;\r\nglobal.limit = null;\r\nglobal.start = null;\r\nglobal.id = null;\r\nglobal.start_date = null;\r\nglobal.end_date = null;\r\n\r\n//This function builds the path to get the API request:\r\n/**************************************************************************\r\n   WITHOUT PARAMETERS A LIST OF ARTICLES WILL BE PROVIDED\r\n   parameters:\r\n    String or list: country, indicator, id \r\n    String: limit, start (list size and start index)\r\n \r\n   example:\r\n    getArticles( ); \r\n    getArticles( id = '20580'); \r\n    getArticles(country = 'portugal');\r\n    getArticles(country = 'portugal', start_date = '2019-02-02', end_date = '2019-03-03');\r\n    getArticles(indicator = ['imports', 'Interest Rate']);       \r\n    getArticles(country = 'united states', indicator = 'inflation rate');         \r\n    getArticles(limit = '4', start = '2');               \r\n\r\n***************************************************************************/\r\n\r\nfunction getArticles(){\r\n   \r\n    var Data = '';\r\n    var url = '';\r\n\r\n    if (country != null){    \r\n        url = '/articles/country/' + country;    \r\n    }\r\n    if (country != null && start_date != null && end_date != null){    \r\n        url = '/articles/country/' + country + '/from/' + start_date + '/' + end_date;    \r\n    }\r\n    if (indicator != null){      \r\n        url = '/articles/indicator/' + indicator;    \r\n    }\r\n    if (country != null && indicator != null){     \r\n        url = '/articles/country/' + country + '/' + indicator;    \r\n    }  \r\n    if (limit != null && start != null){     \r\n        url =  '/articles' + '?lim=' + limit + '&start=' + start;\r\n    }\r\n    if(country === null && indicator === null && limit === null && start === null){\r\n        url = '/articles'; \r\n    }\r\n    if (id != null){     \r\n        url =  '/articles/id/' + id;\r\n    }\r\n    \r\n\r\n    if(url.includes('?')){\r\n        Data = url_base + url + '&c='+ apikey.replace (' ','%20');\r\n    }else{\r\n        Data = url_base + url + '?c='+ apikey.replace (' ','%20');\r\n    }\r\n    \r\n    return fetch(Data)\r\n    .then(func.handleErrors)   \r\n    .then(function(response) {    \r\n        return response.json(); // process it inside the `then` when calling the function       \r\n    }).catch(function (err) {\r\n        return err.message;\r\n    });\r\n   \r\n   \r\n}\r\n\r\nmodule.exports.getArticles = getArticles;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"script"}