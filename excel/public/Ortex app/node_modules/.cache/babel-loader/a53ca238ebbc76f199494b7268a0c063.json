{"ast":null,"code":"'use strict';\n\nconst auth = require('./auth.js');\n\nconst func = require('./functions.js');\n\nconst fetch = require('node-fetch'); //setting global variables to be used outside this module\n\n\nglobal.country = null;\nglobal.category = null;\nglobal.series_code = null;\nglobal.URL = null; //This function builds the path to get the API request:\n\n/***********************************************************************************  \r\n   WITHOUT PARAMETERS A LIST OF ALL CATEGORIES WILL BE PROVIDED\r\n   parameters:\r\n    country, category, series_code, URL\r\n\r\n   example:\r\n    getWorldBank();\r\n    getWorldBank(country ='united states');\r\n    getWorldBank(category = 'Education');       \r\n    getWorldBank(series_code ='fr.inr.rinr');        \r\n    getWorldBank(URL ='/united-states/real-interest-rate-percent-wb-data.html');        \r\n\r\n***********************************************************************************/\n\nfunction getWorldBank() {\n  var Data = '';\n  var url = '';\n\n  if (category != null) {\n    url = '/worldBank/category/' + category;\n  }\n\n  if (country != null) {\n    url = '/worldBank/country/' + country;\n  }\n\n  if (series_code != null) {\n    url = '/worldBank/indicator' + '?s=' + series_code;\n  }\n\n  if (URL != null) {\n    url = '/worldBank/indicator' + '?url=' + URL;\n  }\n\n  if (category === null && country === null && series_code === null && URL === null) {\n    url = '/worldBank/categories';\n  }\n\n  if (url.includes('?')) {\n    Data = url_base + url + '&c=' + apikey.replace(' ', '%20');\n  } else {\n    Data = url_base + url + '?c=' + apikey.replace(' ', '%20');\n  }\n\n  return fetch(Data).then(func.handleErrors).then(function (response) {\n    return response.json(); // process it inside the `then` when calling the function       \n  }).catch(function (err) {\n    return err.message;\n  });\n}\n\nmodule.exports.getWorldBank = getWorldBank;","map":{"version":3,"sources":["C:/Users/Camo/Desktop/ORTEX/ortex-app/node_modules/tradingeconomics/worldBank.js"],"names":["auth","require","func","fetch","global","country","category","series_code","URL","getWorldBank","Data","url","includes","url_base","apikey","replace","then","handleErrors","response","json","catch","err","message","module","exports"],"mappings":"AAAA;;AAEA,MAAMA,IAAI,GAAGC,OAAO,CAAC,WAAD,CAApB;;AACA,MAAMC,IAAI,GAAGD,OAAO,CAAC,gBAAD,CAApB;;AACA,MAAME,KAAK,GAAGF,OAAO,CAAC,YAAD,CAArB,C,CAEA;;;AACAG,MAAM,CAACC,OAAP,GAAiB,IAAjB;AACAD,MAAM,CAACE,QAAP,GAAkB,IAAlB;AACAF,MAAM,CAACG,WAAP,GAAqB,IAArB;AACAH,MAAM,CAACI,GAAP,GAAa,IAAb,C,CAEA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAASC,YAAT,GAAuB;AAEnB,MAAIC,IAAI,GAAG,EAAX;AACA,MAAIC,GAAG,GAAG,EAAV;;AAEA,MAAIL,QAAQ,IAAI,IAAhB,EAAqB;AACjBK,IAAAA,GAAG,GAAG,yBAAyBL,QAA/B;AACH;;AACD,MAAID,OAAO,IAAI,IAAf,EAAoB;AAChBM,IAAAA,GAAG,GAAG,wBAAwBN,OAA9B;AACH;;AACD,MAAIE,WAAW,IAAI,IAAnB,EAAwB;AACpBI,IAAAA,GAAG,GAAG,yBAAyB,KAAzB,GAAiCJ,WAAvC;AACH;;AACD,MAAIC,GAAG,IAAI,IAAX,EAAgB;AACZG,IAAAA,GAAG,GAAG,yBAAyB,OAAzB,GAAmCH,GAAzC;AACH;;AACD,MAAGF,QAAQ,KAAK,IAAb,IAAqBD,OAAO,KAAK,IAAjC,IAAyCE,WAAW,KAAK,IAAzD,IAAiEC,GAAG,KAAK,IAA5E,EAAiF;AAC7EG,IAAAA,GAAG,GAAG,uBAAN;AACH;;AAED,MAAGA,GAAG,CAACC,QAAJ,CAAa,GAAb,CAAH,EAAqB;AACjBF,IAAAA,IAAI,GAAGG,QAAQ,GAAGF,GAAX,GAAiB,KAAjB,GAAwBG,MAAM,CAACC,OAAP,CAAgB,GAAhB,EAAoB,KAApB,CAA/B;AACH,GAFD,MAEK;AACDL,IAAAA,IAAI,GAAGG,QAAQ,GAAGF,GAAX,GAAiB,KAAjB,GAAwBG,MAAM,CAACC,OAAP,CAAgB,GAAhB,EAAoB,KAApB,CAA/B;AACH;;AAED,SAAOZ,KAAK,CAACO,IAAD,CAAL,CACNM,IADM,CACDd,IAAI,CAACe,YADJ,EAEND,IAFM,CAED,UAASE,QAAT,EAAmB;AACrB,WAAOA,QAAQ,CAACC,IAAT,EAAP,CADqB,CACG;AAC3B,GAJM,EAIJC,KAJI,CAIE,UAAUC,GAAV,EAAe;AACpB,WAAOA,GAAG,CAACC,OAAX;AACH,GANM,CAAP;AASH;;AAEDC,MAAM,CAACC,OAAP,CAAef,YAAf,GAA8BA,YAA9B","sourcesContent":["'use strict'\r\n\r\nconst auth = require('./auth.js');\r\nconst func = require('./functions.js');\r\nconst fetch = require('node-fetch');\r\n\r\n//setting global variables to be used outside this module\r\nglobal.country = null;\r\nglobal.category = null;\r\nglobal.series_code = null;\r\nglobal.URL = null;\r\n\r\n//This function builds the path to get the API request:\r\n/***********************************************************************************  \r\n   WITHOUT PARAMETERS A LIST OF ALL CATEGORIES WILL BE PROVIDED\r\n   parameters:\r\n    country, category, series_code, URL\r\n\r\n   example:\r\n    getWorldBank();\r\n    getWorldBank(country ='united states');\r\n    getWorldBank(category = 'Education');       \r\n    getWorldBank(series_code ='fr.inr.rinr');        \r\n    getWorldBank(URL ='/united-states/real-interest-rate-percent-wb-data.html');        \r\n\r\n***********************************************************************************/\r\n\r\nfunction getWorldBank(){\r\n\r\n    var Data = '';\r\n    var url = '';\r\n   \r\n    if (category != null){    \r\n        url = '/worldBank/category/' + category;    \r\n    }\r\n    if (country != null){     \r\n        url = '/worldBank/country/' + country;    \r\n    }\r\n    if (series_code != null){     \r\n        url = '/worldBank/indicator' + '?s=' + series_code;    \r\n    }\r\n    if (URL != null){     \r\n        url = '/worldBank/indicator' + '?url=' + URL;    \r\n    }    \r\n    if(category === null && country === null && series_code === null && URL === null){     \r\n        url = '/worldBank/categories';\r\n    }\r\n\r\n    if(url.includes('?')){\r\n        Data = url_base + url + '&c='+ apikey.replace (' ','%20');\r\n    }else{\r\n        Data = url_base + url + '?c='+ apikey.replace (' ','%20');\r\n    }\r\n    \r\n    return fetch(Data)\r\n    .then(func.handleErrors)   \r\n    .then(function(response) {    \r\n        return response.json(); // process it inside the `then` when calling the function       \r\n    }).catch(function (err) {\r\n        return err.message;\r\n    });\r\n   \r\n\r\n}\r\n\r\nmodule.exports.getWorldBank = getWorldBank;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"script"}