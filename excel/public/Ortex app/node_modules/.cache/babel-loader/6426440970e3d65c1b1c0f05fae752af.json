{"ast":null,"code":"'use strict';\n\nconst auth = require('./auth.js');\n\nconst func = require('./functions.js');\n\nconst fetch = require('node-fetch'); //setting global variables to be used outside this module\n\n\nglobal.counties = null;\nglobal.country = null;\nglobal.symbol = null;\nglobal.county = null;\nglobal.state = null;\nglobal.URL = null;\nglobal.historical_symbol = null; //This function builds the path to get the API request:\n\n/****************************************************************************************************  \r\n   parameters:\r\n    country, county, counties, states, symbol, URL, state, pike, historical(symbol)\r\n\r\n   example:\r\n    getFred();\r\n    getFred(counties = 'pike');\r\n    getFred(country ='united states');\r\n    getFred(country = 'united states' );       \r\n    getFred(symbol ='AGEXMAK2A647NCEN' );              \r\n    getFred(URL ='/united-states/income-inequality-in-aleutians-east-borough-ak-fed-data.html' );              \r\n    getFred(county ='pike' );              \r\n    getFred(state ='tennessee' );                           \r\n    getFred(historical_symbol ='RACEDISPARITY005007' );              \r\n\r\n******************************************************************************************************/\n\nfunction getFred() {\n  var Data = '';\n  var url = '';\n\n  if ((counties, country, county, symbol, URL, state, historical_symbol) === null) {\n    url = '/fred/states';\n  }\n\n  if (counties != null) {\n    url = '/fred/counties/' + counties;\n  }\n\n  if (symbol != null) {\n    url = '/fred/snapshot/symbol/' + symbol;\n  }\n\n  if (URL != null) {\n    url = '/fred/snapshot/url' + '?url=' + URL;\n  }\n\n  if (country != null) {\n    url = '/fred/snapshot/country/' + country;\n  }\n\n  if (state != null) {\n    url = '/fred/snapshot/state/' + state;\n  }\n\n  if (county != null) {\n    url = '/fred/snapshot/county/' + county;\n  }\n\n  if (historical_symbol != null) {\n    url = '/fred/historical/' + historical_symbol;\n  }\n\n  if (url.includes('?')) {\n    Data = url_base + url + '&c=' + apikey.replace(' ', '%20');\n  } else {\n    Data = url_base + url + '?c=' + apikey.replace(' ', '%20');\n  }\n\n  return fetch(Data).then(func.handleErrors).then(function (response) {\n    return response.json(); // process it inside the `then` when calling the function       \n  }).catch(function (err) {\n    return err.message;\n  });\n}\n\nmodule.exports.getFred = getFred;","map":{"version":3,"sources":["C:/Users/Camo/Desktop/ORTEX/ortex-app/node_modules/tradingeconomics/federalReserve.js"],"names":["auth","require","func","fetch","global","counties","country","symbol","county","state","URL","historical_symbol","getFred","Data","url","includes","url_base","apikey","replace","then","handleErrors","response","json","catch","err","message","module","exports"],"mappings":"AAAA;;AAEA,MAAMA,IAAI,GAAGC,OAAO,CAAC,WAAD,CAApB;;AACA,MAAMC,IAAI,GAAGD,OAAO,CAAC,gBAAD,CAApB;;AACA,MAAME,KAAK,GAAGF,OAAO,CAAC,YAAD,CAArB,C,CAEA;;;AACAG,MAAM,CAACC,QAAP,GAAkB,IAAlB;AACAD,MAAM,CAACE,OAAP,GAAiB,IAAjB;AACAF,MAAM,CAACG,MAAP,GAAgB,IAAhB;AACAH,MAAM,CAACI,MAAP,GAAgB,IAAhB;AACAJ,MAAM,CAACK,KAAP,GAAe,IAAf;AACAL,MAAM,CAACM,GAAP,GAAa,IAAb;AACAN,MAAM,CAACO,iBAAP,GAA2B,IAA3B,C,CAEA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAASC,OAAT,GAAkB;AAEd,MAAIC,IAAI,GAAG,EAAX;AACA,MAAIC,GAAG,GAAG,EAAV;;AAEA,MAAI,CAACT,QAAQ,EAAEC,OAAF,EAAWE,MAAX,EAAmBD,MAAnB,EAA2BG,GAA3B,EAAgCD,KAAhC,EAAuCE,iBAAhD,MAAuE,IAA3E,EAAgF;AAC5EG,IAAAA,GAAG,GAAI,cAAP;AACH;;AACD,MAAIT,QAAQ,IAAI,IAAhB,EAAqB;AACjBS,IAAAA,GAAG,GAAG,oBAAoBT,QAA1B;AACH;;AACD,MAAIE,MAAM,IAAI,IAAd,EAAmB;AACfO,IAAAA,GAAG,GAAG,2BAA2BP,MAAjC;AACH;;AACD,MAAIG,GAAG,IAAI,IAAX,EAAgB;AACZI,IAAAA,GAAG,GAAG,uBAAuB,OAAvB,GAAiCJ,GAAvC;AACH;;AACD,MAAIJ,OAAO,IAAI,IAAf,EAAoB;AAChBQ,IAAAA,GAAG,GAAG,4BAA4BR,OAAlC;AACH;;AACD,MAAGG,KAAK,IAAI,IAAZ,EAAiB;AACbK,IAAAA,GAAG,GAAG,0BAA0BL,KAAhC;AACH;;AACD,MAAGD,MAAM,IAAI,IAAb,EAAkB;AACdM,IAAAA,GAAG,GAAG,2BAA2BN,MAAjC;AACH;;AACD,MAAGG,iBAAiB,IAAI,IAAxB,EAA6B;AACzBG,IAAAA,GAAG,GAAG,sBAAsBH,iBAA5B;AACH;;AAED,MAAGG,GAAG,CAACC,QAAJ,CAAa,GAAb,CAAH,EAAqB;AACjBF,IAAAA,IAAI,GAAGG,QAAQ,GAAGF,GAAX,GAAiB,KAAjB,GAAwBG,MAAM,CAACC,OAAP,CAAgB,GAAhB,EAAoB,KAApB,CAA/B;AACH,GAFD,MAEK;AACDL,IAAAA,IAAI,GAAGG,QAAQ,GAAGF,GAAX,GAAiB,KAAjB,GAAwBG,MAAM,CAACC,OAAP,CAAgB,GAAhB,EAAoB,KAApB,CAA/B;AACH;;AAED,SAAOf,KAAK,CAACU,IAAD,CAAL,CACNM,IADM,CACDjB,IAAI,CAACkB,YADJ,EAEND,IAFM,CAED,UAASE,QAAT,EAAmB;AACrB,WAAOA,QAAQ,CAACC,IAAT,EAAP,CADqB,CACG;AAC3B,GAJM,EAIJC,KAJI,CAIE,UAAUC,GAAV,EAAe;AACpB,WAAOA,GAAG,CAACC,OAAX;AACH,GANM,CAAP;AASH;;AAEDC,MAAM,CAACC,OAAP,CAAef,OAAf,GAAyBA,OAAzB","sourcesContent":["'use strict'\r\n\r\nconst auth = require('./auth.js');\r\nconst func = require('./functions.js');\r\nconst fetch = require('node-fetch');\r\n\r\n//setting global variables to be used outside this module\r\nglobal.counties = null;\r\nglobal.country = null;\r\nglobal.symbol = null;\r\nglobal.county = null;\r\nglobal.state = null;\r\nglobal.URL = null;\r\nglobal.historical_symbol = null;\r\n\r\n//This function builds the path to get the API request:\r\n/****************************************************************************************************  \r\n   parameters:\r\n    country, county, counties, states, symbol, URL, state, pike, historical(symbol)\r\n\r\n   example:\r\n    getFred();\r\n    getFred(counties = 'pike');\r\n    getFred(country ='united states');\r\n    getFred(country = 'united states' );       \r\n    getFred(symbol ='AGEXMAK2A647NCEN' );              \r\n    getFred(URL ='/united-states/income-inequality-in-aleutians-east-borough-ak-fed-data.html' );              \r\n    getFred(county ='pike' );              \r\n    getFred(state ='tennessee' );                           \r\n    getFred(historical_symbol ='RACEDISPARITY005007' );              \r\n\r\n******************************************************************************************************/\r\n\r\nfunction getFred(){\r\n\r\n    var Data = '';\r\n    var url = '';\r\n\r\n    if ((counties, country, county, symbol, URL, state, historical_symbol) === null){    \r\n        url =  '/fred/states'; \r\n    }\r\n    if (counties != null){      \r\n        url = '/fred/counties/' + counties;    \r\n    }\r\n    if (symbol != null){     \r\n        url = '/fred/snapshot/symbol/' + symbol;    \r\n    }\r\n    if (URL != null){     \r\n        url = '/fred/snapshot/url' + '?url=' + URL;    \r\n    }\r\n    if (country != null){     \r\n        url = '/fred/snapshot/country/' + country;    \r\n    }\r\n    if(state != null){\r\n        url = '/fred/snapshot/state/' + state;\r\n    }\r\n    if(county != null){\r\n        url = '/fred/snapshot/county/' + county;\r\n    }\r\n    if(historical_symbol != null){\r\n        url = '/fred/historical/' + historical_symbol;\r\n    }\r\n    \r\n    if(url.includes('?')){\r\n        Data = url_base + url + '&c='+ apikey.replace (' ','%20');\r\n    }else{\r\n        Data = url_base + url + '?c='+ apikey.replace (' ','%20');\r\n    }\r\n \r\n    return fetch(Data)\r\n    .then(func.handleErrors)   \r\n    .then(function(response) {    \r\n        return response.json(); // process it inside the `then` when calling the function       \r\n    }).catch(function (err) {\r\n        return err.message;\r\n    });\r\n   \r\n\r\n}\r\n\r\nmodule.exports.getFred = getFred;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"script"}